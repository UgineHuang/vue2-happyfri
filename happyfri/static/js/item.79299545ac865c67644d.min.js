webpackJsonp([1,3],{34:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(45),s=n(o);e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},43:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__(33),_stringify2=_interopRequireDefault(_stringify),_extends2=__webpack_require__(34),_extends3=_interopRequireDefault(_extends2),_vuex=__webpack_require__(32),_vueCountTo=__webpack_require__(76),_vueCountTo2=_interopRequireDefault(_vueCountTo);exports.default={name:"itemcontainer",components:{countTo:_vueCountTo2.default},data:function(){return{itemId:null,choosedNum:null,choosedId:null,choosedPlayer:null,myScore:0,anOtherScore:0,m_startVal:0,o_startVal:0,isLoading:!1,hasAnswered:!1,tempScore:0,isOverTime:null}},props:["fatherComponent"],computed:(0,_vuex.mapState)(["itemNum","level","itemDetail","timer","answerTime","onlinePlayers","ANOTHER","USERNAME","stompClient","pri_timer"]),methods:(0,_extends3.default)({},(0,_vuex.mapActions)(["addNum","initializeData","setAnother","setItemDetail","setFinalScore","setAnswerTime","connectWebsocket","setPritimer"]),{nextItem:function(){this.hasAnswered=!1,null!==this.choosedNum?(this.choosedNum=null,this.addNum(this.choosedId),this.$Progress.start(),this.setAnswerTime((new Date).getTime())):alert("您还没有选择答案哦")},chooseType:function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D"}},choosed:function(t,e,i){this.hasAnswered=!0,this.choosedNum=t,this.choosedId=e,this.computeScore(i),this.$Progress.finish(),console.log(this.myScore),this.stompClient.send("/app/game.do_exam",{},(0,_stringify2.default)({type:"DO_EXAM",content:this.tempScore,sender:this.USERNAME}))},submitAnswer:function(){null!==this.choosedNum?(this.addNum(this.choosedId),this.setFinalScore(this.myScore),clearInterval(this.timer),this.$router.push("score")):alert("您还没有选择答案哦")},choosePlayer:function(t,e){this.choosedPlayer=e,this.setAnother(e)},loading:function(){this.isLoading=!0,this.websocket(),this.stompClient.send("/app/game.choose_user",{},(0,_stringify2.default)({type:"CHOOSE_USER",content:this.ANOTHER,sender:this.USERNAME}))},goToPlay:function(){this.isLoading=!1,this.$router.push("item")},computeScore:function(t){var e=(new Date).getTime();this.setAnswerTime(e-this.answerTime),t?this.answerTime<4e3?(this.startVal=this.myScore,this.tempScore=10,this.myScore+=10):this.answerTime>1e4&&(this.startVal=this.myScore,this.tempScore=8,this.myScore+=8):this.tempScore=0},websocket:function websocket(){var _this=this;this.stompClient.subscribe("/topic/game",function(msg){console.log("广播成功");var mess=JSON.parse(msg.body);if("ADD_USER"==mess.chatMessage.type)console.log("ADD_USER");else if("CHOOSE_USER"==mess.chatMessage.type){if(console.log("CHOOSE_USER"+mess.chatMessage.receiver.indexOf(_this.USERNAME)),console.log(),mess.chatMessage.receiver.indexOf(_this.USERNAME)!=-1){var itemDetail=eval(mess.chatMessage.content);_this.setItemDetail(itemDetail),_this.goToPlay()}}else"DO_EXAM"==mess.chatMessage.type&&(console.log("DO_EXAM"+mess.chatMessage.receiver.indexOf(_this.USERNAME)),mess.chatMessage.receiver.indexOf(_this.USERNAME)!=-1&&(_this.o_startVal=_this.anOtherScore,_this.anOtherScore+=parseInt(mess.chatMessage.content)))})}}),created:function(){if("home"==this.fatherComponent){this.initializeData()}else{this.$Progress.start();var t=this;setTimeout(function(){t.startVal=t.endVal,t.endVal=50},5e3)}},mounted:function(){this.setAnswerTime((new Date).getTime()),this.stompClient&&this.websocket()}}},45:function(t,e,i){t.exports={default:i(46),__esModule:!0}},46:function(t,e,i){i(59),t.exports=i(2).Object.assign},52:function(t,e,i){"use strict";var n=i(7),o=i(17),s=i(37),r=i(25),a=i(26),l=i(50),c=Object.assign;t.exports=!c||i(13)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var i=a(t),c=arguments.length,u=1,m=s.f,A=r.f;c>u;)for(var d,h=l(arguments[u++]),p=m?o(h).concat(m(h)):o(h),f=p.length,g=0;f>g;)d=p[g++],n&&!A.call(h,d)||(i[d]=h[d]);return i}:c},59:function(t,e,i){var n=i(8);n(n.S+n.F,"Object",{assign:i(52)})},60:function(t,e,i){e=t.exports=i(27)(),e.push([t.id,".top_tips{background:url("+i(71)+") no-repeat;z-index:10;position:absolute;height:5.35rem;width:4.25rem;top:1rem;right:.3rem;background-size:100%}.top_tips .num_tip{position:absolute;left:-2rem;top:.6rem;height:.7rem;width:4.2rem;font-size:.6rem;font-family:\\\\9ED1\\4F53;font-weight:600;color:#903;text-align:center}.item_container_style{height:11.625rem;width:13.15rem;background-repeat:no-repeat;position:absolute;top:.1rem;left:1rem}.home_logo{background-image:url("+i(62)+");background-size:8rem 40%;background-position:0 0}.item_back{background-image:url("+i(64)+")}.button_style,.item_back{background-size:100% 100%}.button_style{display:block;height:2.1rem;width:4.35rem;position:absolute;top:16.5rem;left:50%;margin-left:-2.4rem;background-repeat:no-repeat}.start{background-image:url("+i(63)+")}.next_item{background-image:url("+i(65)+")}.submit_item{background-image:url("+i(66)+")}.item_list_container{position:absolute;height:7rem;top:5.4rem;left:3rem;-webkit-font-smoothing:antialiased}.item_list_container ul{position:relative;left:-1rem}.item_title{font-size:.8rem;color:#00e;line-height:.7rem;position:fixed;top:4rem;left:0;text-align:center;width:100%}.item_list{font-size:0;margin-top:.4rem;width:5rem;display:inline-block;text-align:center}.item_list span{display:inline-block;font-size:.6rem;color:#00e;vertical-align:middle}.item_list .option_style{height:.725rem;width:.725rem;border:1px solid #fff;border-radius:50%;line-height:.725rem;text-align:center;margin-right:.3rem;font-size:.5rem;font-family:Arial}.item_list .has_choosed{background-color:#ffd400;color:#575757;border-color:#ffd400}.item_list .option_detail{width:7.5rem;padding-top:.11rem}.has_choosedlist{background-color:#ffd400;color:#575757;border-color:#ffd400}.players{position:relative;width:90%;height:8rem;overflow:scroll;margin:5rem auto}.players h3,.players ul{text-align:center}.players span{display:inline-block;width:50%}.players .choosed{background-color:#ffd400;color:#575757;border-color:#ffd400;border-radius:.3rem}.scoreArea{position:fixed;top:2.5rem;left:1.5rem;width:13rem;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}","",{version:3,sources:["/./src/components/itemcontainer.vue"],names:[],mappings:"AACA,UAAU,mDAA+C,WAAW,kBAAkB,eAAe,cAAc,SAAS,YAAY,oBAAoB,CAC3J,AACD,mBAAmB,kBAAkB,WAAW,UAAU,aAAa,aAAa,gBAAgB,wBAAiB,gBAAgB,WAAc,iBAAiB,CACnK,AACD,sBAAsB,iBAAiB,eAAe,4BAA4B,kBAAkB,UAAU,SAAS,CACtH,AACD,WAAW,+CAAwC,yBAAyB,uBAA4B,CACvG,AACD,WAAW,8CAAwC,CAClD,AACD,yBAFmD,yBAAyB,CAG3E,AADD,cAAc,cAAc,cAAc,cAAc,AAA0B,kBAAkB,YAAY,SAAS,oBAAoB,2BAA2B,CACvK,AACD,OAAO,8CAAuC,CAC7C,AACD,WAAW,8CAAuC,CACjD,AACD,aAAa,8CAAuC,CACnD,AACD,qBAAqB,kBAAkB,YAAY,WAAW,UAAU,kCAAkC,CACzG,AACD,wBAAwB,kBAAkB,UAAU,CACnD,AACD,YAAY,gBAAgB,WAAW,kBAAkB,eAAe,SAAS,OAAU,kBAAkB,UAAU,CACtH,AACD,WAAW,YAAY,iBAAiB,WAAW,qBAAqB,iBAAiB,CACxF,AACD,gBAAgB,qBAAqB,gBAAgB,WAAW,qBAAqB,CACpF,AACD,yBAAyB,eAAe,cAAc,sBAAsB,kBAAkB,oBAAoB,kBAAkB,mBAAmB,gBAAgB,iBAAmB,CACzL,AACD,wBAAwB,yBAAyB,cAAc,oBAAoB,CAClF,AACD,0BAA0B,aAAa,kBAAkB,CACxD,AACD,iBAAiB,yBAAyB,cAAc,oBAAoB,CAC3E,AACD,SAAS,kBAAkB,UAAU,YAAY,gBAAgB,gBAAgB,CAChF,AACD,wBAAwB,iBAAiB,CACxC,AACD,cAAc,qBAAqB,SAAS,CAC3C,AACD,kBAAkB,yBAAyB,cAAc,qBAAqB,mBAAmB,CAChG,AACD,WAAW,eAAe,WAAW,YAAY,YAAY,AAAqB,oBAAoB,aAAa,AAA2B,uBAAuB,mBAAmB,AAAsC,sBAAsB,6BAA6B,CAChR",file:"itemcontainer.vue",sourcesContent:["\n.top_tips{background:url(../images/ziyuan.png) no-repeat;z-index:10;position:absolute;height:5.35rem;width:4.25rem;top:1rem;right:.3rem;background-size:100%\n}\n.top_tips .num_tip{position:absolute;left:-2rem;top:.6rem;height:.7rem;width:4.2rem;font-size:.6rem;font-family:'黑体';font-weight:600;color:#990033;text-align:center\n}\n.item_container_style{height:11.625rem;width:13.15rem;background-repeat:no-repeat;position:absolute;top:.1rem;left:1rem\n}\n.home_logo{background-image:url(../images/1-2.png);background-size:8rem 40%;background-position:left top\n}\n.item_back{background-image:url(../images/2-1.png);background-size:100% 100%\n}\n.button_style{display:block;height:2.1rem;width:4.35rem;background-size:100% 100%;position:absolute;top:16.5rem;left:50%;margin-left:-2.4rem;background-repeat:no-repeat\n}\n.start{background-image:url(../images/1-4.png)\n}\n.next_item{background-image:url(../images/2-2.png)\n}\n.submit_item{background-image:url(../images/3-1.png)\n}\n.item_list_container{position:absolute;height:7rem;top:5.4rem;left:3rem;-webkit-font-smoothing:antialiased\n}\n.item_list_container ul{position:relative;left:-1rem\n}\n.item_title{font-size:.8rem;color:#00e;line-height:.7rem;position:fixed;top:4rem;left:0rem;text-align:center;width:100%\n}\n.item_list{font-size:0;margin-top:.4rem;width:5rem;display:inline-block;text-align:center\n}\n.item_list span{display:inline-block;font-size:.6rem;color:#00e;vertical-align:middle\n}\n.item_list .option_style{height:.725rem;width:.725rem;border:1px solid #fff;border-radius:50%;line-height:.725rem;text-align:center;margin-right:.3rem;font-size:.5rem;font-family:'Arial'\n}\n.item_list .has_choosed{background-color:#ffd400;color:#575757;border-color:#ffd400\n}\n.item_list .option_detail{width:7.5rem;padding-top:.11rem\n}\n.has_choosedlist{background-color:#ffd400;color:#575757;border-color:#ffd400\n}\n.players{position:relative;width:90%;height:8rem;overflow:scroll;margin:5rem auto\n}\n.players h3,.players ul{text-align:center\n}\n.players span{display:inline-block;width:50%\n}\n.players .choosed{background-color:#ffd400;color:#575757;border-color:#ffd400;border-radius:.3rem\n}\n.scoreArea{position:fixed;top:2.5rem;left:1.5rem;width:13rem;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between\n}"],sourceRoot:"webpack://"}])},61:function(t,e,i){var n=i(60);"string"==typeof n&&(n=[[t.id,n,""]]);i(31)(n,{});n.locals&&(t.exports=n.locals)},62:function(t,e,i){t.exports=i.p+"static/img/1-2.png"},63:function(t,e,i){t.exports=i.p+"static/img/1-4.png"},64:function(t,e,i){t.exports=i.p+"static/img/2-1.png"},65:function(t,e,i){t.exports=i.p+"static/img/2-2.png"},66:function(t,e,i){t.exports=i.p+"static/img/3-1.png"},67:function(t,e,i){t.exports=i.p+"static/img/ganlaji.png"},68:function(t,e,i){t.exports=i.p+"static/img/kehuishouwu.png"},69:function(t,e,i){t.exports=i.p+"static/img/shilaji.png"},70:function(t,e,i){t.exports=i.p+"static/img/youhailaji.png"},71:function(t,e,i){t.exports=i.p+"static/img/ziyuan.png"},76:function(t,e,i){!function(e,i){t.exports=i()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,i){var n=i(4)(i(1),i(5),null,null);t.exports=n.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,i,n){return i*(1-Math.pow(2,-10*t/n))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,n.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,n.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,n.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,n.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,n.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),i=e[0],n=e.length>1?this.decimal+e[1]:"",o=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;o.test(i);)i=i.replace(o,"$1"+this.separator+"$2");return this.prefix+i+n+this.suffix}},destroyed:function(){(0,n.cancelAnimationFrame)(this.rAF)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=o.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",o.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,o="webkit moz ms o".split(" "),s=void 0,r=void 0;if("undefined"==typeof window)e.requestAnimationFrame=s=function(){},e.cancelAnimationFrame=r=function(){};else{e.requestAnimationFrame=s=window.requestAnimationFrame,e.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var a=void 0,l=0;l<o.length&&(!s||!r);l++)a=o[l],e.requestAnimationFrame=s=s||window[a+"RequestAnimationFrame"],e.cancelAnimationFrame=r=r||window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"];s&&r||(e.requestAnimationFrame=s=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),o=window.setTimeout(function(){t(e+i)},i);return n=e+i,o},e.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=s,e.cancelAnimationFrame=r},function(t,e){t.exports=function(t,e,i,n){var o,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(o=t,s=t.default);var a="function"==typeof s?s.options:s;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),i&&(a._scopeId=i),n){var l=Object.create(a.computed||null);Object.keys(n).forEach(function(t){var e=n[t];l[t]=function(){return e}}),a.computed=l}return{esModule:o,exports:s,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])})},77:function(t,e,i){i(61);var n=i(21)(i(43),i(78),null,null);t.exports=n.exports},78:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",["home"==t.fatherComponent?n("header",{staticClass:"top_tips"},[n("span",{staticClass:"num_tip"},[t._v("快到垃圾桶里来")]),t._v(" "),n("span",[t._v(t._s(t.USERNAME))])]):t._e(),t._v(" "),"home"==t.fatherComponent?n("div",[n("div",{staticClass:"home_logo item_container_style"}),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"players"},[n("h3",{on:{click:function(e){return t.websocket()}}},[t._v("请选择以下玩家对战")]),t._v(" "),n("ul",t._l(t.onlinePlayers,function(e,i){return n("li",{on:{click:function(n){return t.choosePlayer(i,e)}}},[n("span",{staticClass:"option_detail",class:{choosed:t.choosedPlayer==e}},[t._v(t._s(e))])])}),0)]),t._v(" "),n("div",{staticClass:"start button_style",on:{click:function(e){return t.loading()}}})]):t._e(),t._v(" "),"item"==t.fatherComponent?n("div",[n("div",{staticClass:"item_back item_container_style"},[t.itemDetail.length>0?n("div",{staticClass:"item_list_container"},[n("vue-progress-bar"),t._v(" "),n("div",{staticClass:"scoreArea"},[n("countTo",{staticClass:"myScore",attrs:{startVal:t.m_startVal,endVal:t.myScore,duration:3e3}}),t._v(" "),n("countTo",{staticClass:"anOtherScore",attrs:{startVal:t.o_startVal,endVal:t.anOtherScore,duration:3e3}})],1),t._v(" "),n("div",{staticClass:"item_title"},[t._v(t._s(t.itemDetail[t.itemNum-1].topic_name))]),t._v(" "),n("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.hasAnswered,expression:"hasAnswered"}]},t._l(t.itemDetail[t.itemNum-1].topic_answer,function(e,o){return n("li",{staticClass:"item_list",class:{has_choosedlist:t.choosedNum==o},on:{click:function(i){return t.choosed(o,e.topic_answer_id,e.is_standard_answer)}}},[n("span",{class:{has_choosed:t.choosedNum==o}}),t._v(" "),2==o?n("img",{staticStyle:{width:"80%"},attrs:{src:i(67)}}):t._e(),t._v(" "),1==o?n("img",{staticStyle:{width:"80%"},attrs:{src:i(68)}}):t._e(),t._v(" "),3==o?n("img",{staticStyle:{width:"80%"},attrs:{src:i(69)}}):t._e(),t._v(" "),0==o?n("img",{staticStyle:{width:"80%"},attrs:{src:i(70)}}):t._e()])}),0)],1):t._e()]),t._v(" "),t.itemNum<t.itemDetail.length?n("span",{staticClass:"next_item button_style",on:{click:t.nextItem}}):n("span",{staticClass:"submit_item button_style",on:{click:t.submitAnswer}})]):t._e()])},staticRenderFns:[]}},115:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(77),s=n(o);e.default={name:"item",components:{itemcontainer:s.default},created:function(){}}},168:function(t,e,i){e=t.exports=i(27)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:"webpack://"}])},173:function(t,e,i){var n=i(168);"string"==typeof n&&(n=[[t.id,n,""]]);i(31)(n,{});n.locals&&(t.exports=n.locals)},219:function(t,e,i){i(173);var n=i(21)(i(115),i(222),null,null);t.exports=n.exports},222:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("itemcontainer",{attrs:{"father-component":"item"}})],1)},staticRenderFns:[]}}});